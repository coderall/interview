# 存储硬件 or 存储产品相关
# storage hardware or production related

1、 NoF(NVMe over Fabrics)的实现中和本地NVMe访问有哪些区别
    (tips: 从如下几点来分析
     (1) 设备的识别,本地盘通过总线系统和完成,而NoF则需要NVMe Qualified Name即NQN来识别
     (2) 设备的发现,本地盘通过总线通知,而NoF需要一种协议模式来发现和连接,有点像TCP
     (3) 存储命令的排队模型,本地盘直接使用基于内存的Queue,但是NoF则需要一个Message-based的排队系统
     (4) 数据传输方面,本地盘直接使用PCIe协议中的Physical Region Page,而NoF需要Scatter-Gather List的支持)

2、SATA3.0 的最大传输速度为6G，但是SAS3.0支持12G，如果直接在SAS口上链接SATA盘，会有带宽浪费的问题
    所以在SCSI协议层支持多路复用，最大化带宽利用

3、当前的深度归档实现的思想在20年前就有了，即MAID(Massive Arrays of idle disk)，实现的难点在于
    调度

4、怎么应对磁盘盘符漂移
    (tips：使用e2label程序为某个盘写入label，然后在挂载时，按照label挂载；如果要
     自动挂载，则将这些信息写入/etc/fstab文件中；
     另，同样可以使用by UUID的方式来)

5、ext2 ext3 ext4的super block中有字段 s_volume_name 用来保存设置的label，最长16个字节

6、当前的FaultTolerant部署模式为啥不采用Active-Active的模式？

7、SSD的Read Disturb问题
    (tips：SSD由于其自身电器属性，在读取一个paeg时，会影响其他page上的数据，有可能造成bit 翻转等错误
     解决方法是从硬件层面引入类似RAID方法来在错误出现时纠错
     另一方变是引入统计信息，统计某一个page或者block的读次数，到达上限后，进行回收)

8、https://ma.ttias.be/change-reserved-blocks-ext3-ext4-filesystem-linux 根据这里的描述，对于
    当前越来越大的磁盘来讲，5%的预留空间太大了，可以考虑调小
    可以继续看下动态调整的影响面

9、机械硬盘的磁头旋转角速度固定，单位时间内，可以读取的外道长度较长，读取速度更快；
    早期生产商将外道的磁密度降低来平衡这种差异。
    但是上述做法的一个缺陷是浪费了磁盘track空间(外圈的sector数量和内圈保持一致)。
    ZBR（Zone Bit Recording）将单位角度内，具有相同数量sector的track组成一个zone，这样外圈的磁密度和内圈保持一致，
    这样做的效果就是数据存储在外圈访问速度高。

10、磁盘中可能有多个碟片，但是有一个碟片的一个面是不能保存数据的，生产商用这一面来存储一些硬件信息。
    例如有两个碟片的磁盘，那么可以用作数据存储只有三个面。

11、从2010年起，IDEMA组织完成了 Advanced Format标准的制定，磁盘的physical sector size值扩大到4096 bytes，即4K
    用 hdparm -I /dev/sda 也能查看这一信息
    使用了上述标准的磁盘，数据读写的最小单位为4K，即小于4K的，写入时，需要考虑Read-Modify-Write带来的放大
